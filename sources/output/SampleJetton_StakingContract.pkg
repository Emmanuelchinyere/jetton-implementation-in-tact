{"name":"StakingContract","code":"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","abi":"{\"name\":\"StakingContract\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"TokenTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TransferEvent\",\"header\":1382804827,\"fields\":[{\"name\":\"sender_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jetton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"score\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}}]},{\"name\":\"AddingJettonAddress\",\"header\":36111069,\"fields\":[{\"name\":\"this_contract_jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Unstake\",\"header\":2232775567,\"fields\":[{\"name\":\"index_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"Redeem\",\"header\":1250976136,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"project_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}}]},{\"name\":\"GetWeighted\",\"header\":323774586,\"fields\":[{\"name\":\"applied_user_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"StakingData\",\"header\":null,\"fields\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"this_contract_jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"total_score\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"parameter\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}}]},{\"name\":\"StakeRecord\",\"header\":null,\"fields\":[{\"name\":\"stake_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"idia_stake_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"score\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}}]},{\"name\":\"UploadJettonWalletData\",\"header\":2160290321,\"fields\":[{\"name\":\"project_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"funding_period\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"round_contract_jetton_wallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"convert_rate\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"upcoming_token_jetton_wallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"second_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"AdminExecute\",\"header\":2512676617,\"fields\":[{\"name\":\"target_project_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}}]},{\"name\":\"PassScoreToRoundContract\",\"header\":3858595625,\"fields\":[{\"name\":\"checked_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"return_score\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"AdminUploadJettonWalletData\",\"header\":3842255875,\"fields\":[{\"name\":\"funding_period\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"round_contract_jetton_wallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"convert_rate\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"upcoming_token_jetton_wallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"second_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"UserClaim\",\"header\":2673970054,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"RoundData\",\"header\":null,\"fields\":[{\"name\":\"project_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"second_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"end_time\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"round_contract_jetton_wallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"convert_rate\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"upcoming_token_jetton_wallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"amount_of_upcoming_token\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"is_inject_funds\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"is_open\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":true}},{\"name\":\"pariticipators\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"weights_total\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"Submit\",\"header\":null,\"fields\":[{\"name\":\"deposite_jetton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"submit_weight\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"WeightLog\",\"header\":3600198279,\"fields\":[{\"name\":\"weight_total\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"pariticipator\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"return_score\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"AddingJettonAddress\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenNotification\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"GetWeighted\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Unstake\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"empty\"}}],\"getters\":[{\"name\":\"get_ratio_of_stake\",\"arguments\":[{\"name\":\"StakeTokenAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"get_ratio_of_stake_2\",\"arguments\":[{\"name\":\"StakeTokenAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"get_ratio_of_stake_3\",\"arguments\":[{\"name\":\"StakeTokenAmount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"get_user_stake_record\",\"arguments\":[],\"returnType\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"StakeRecord\",\"valueFormat\":\"ref\"}},{\"name\":\"get_user_stake_amount\",\"arguments\":[],\"returnType\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"int\"}},{\"name\":\"get_return_staking_data\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"StakingData\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"4034\":{\"message\":\"not the user in the list\"},\"6582\":{\"message\":\"no Record\"},\"7013\":{\"message\":\"don't have value\"},\"15748\":{\"message\":\"Not from correct address\"},\"17054\":{\"message\":\"not from one of any jetton wallet\"},\"21884\":{\"message\":\"not the admin\"},\"24241\":{\"message\":\"not open yet\"},\"25145\":{\"message\":\"Already in the list\"},\"28412\":{\"message\":\"not in status\"},\"30226\":{\"message\":\"not enough TON\"},\"33986\":{\"message\":\"haven't upload the jetton Wallet info\"},\"35067\":{\"message\":\"ratio too high\"},\"35179\":{\"message\":\"Time Frame too long\"},\"44849\":{\"message\":\"Not in the right time frame\"},\"49280\":{\"message\":\"not owner\"},\"57660\":{\"message\":\"not in the list\"},\"59169\":{\"message\":\"not yet\"},\"59383\":{\"message\":\"in close status\"},\"61324\":{\"message\":\"not from owner\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\"]}","init":{"kind":"direct","args":[{"name":"this_contract_jettonWallet","type":{"kind":"simple","type":"address","optional":false}},{"name":"_owner","type":{"kind":"simple","type":"address","optional":false}},{"name":"parameter","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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"}},"sources":{"sources/contract.tact":"Ci8vID09PT09IFRFUDY0IFN0YW5kYXJkOiBKZXR0b24gTWVzc2FnZXMgPT09PT0gLy8gCm1lc3NhZ2UoMHhmOGE3ZWE1KSBUb2tlblRyYW5zZmVyIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIGRlc3RpbmF0aW9uOiBBZGRyZXNzOwogICAgcmVzcG9uc2VfZGVzdGluYXRpb246IEFkZHJlc3M7CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87CiAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IEludCBhcyBjb2luczsKICAgIGZvcndhcmRfcGF5bG9hZDogU2xpY2UgYXMgcmVtYWluaW5nOwp9CgptZXNzYWdlKDB4NzM2MmQwOWMpIFRva2VuTm90aWZpY2F0aW9uIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7ICAgICAgICAgICAgICAKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZnJvbTogQWRkcmVzczsKICAgIGZvcndhcmRfcGF5bG9hZDogU2xpY2UgYXMgcmVtYWluaW5nOyAvLyBDb21tZW50IFRleHQgbWVzc2FnZSB3aGVuIFRyYW5zZmVyIHRoZSBqZXR0b24gCn0KLy8gRm9yIHRoZSBlbmQtcG9pbnQgb2YgdGhlIFR4LCB0aGlzIGRhdGEgbWVhbnMgbm90aGluZyBpbXBvcnRhbnQuCi8vIChSZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS90b24tYmxvY2tjaGFpbi9URVBzL2Jsb2IvbWFzdGVyL3RleHQvMDA3NC1qZXR0b25zLXN0YW5kYXJkLm1kKQoKLy8gPT09PT0gTE9HIEV2ZW50ID09PT09IC8vIAptZXNzYWdlIFRyYW5zZmVyRXZlbnQgewogICAgc2VuZGVyX2FkZHJlc3M6IEFkZHJlc3M7CiAgICBqZXR0b25fYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBzY29yZTogSW50IGFzIHVpbnQxMjg7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vCm1lc3NhZ2UgQWRkaW5nSmV0dG9uQWRkcmVzcyB7CiAgICB0aGlzX2NvbnRyYWN0X2pldHRvbldhbGxldDogQWRkcmVzczsKfQoKbWVzc2FnZSBVbnN0YWtlIHsKICAgIGluZGV4X2lkOiBJbnQgYXMgdWludDMyOwp9CgptZXNzYWdlIFJlZGVlbSB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgcHJvamVjdF9pZDogSW50IGFzIHVpbnQxNjsKfQoKbWVzc2FnZSBHZXRXZWlnaHRlZCB7IC8vID09PT09IG9uLWNoYWluIGZldGNoID09PT09IC8vIAogICAgYXBwbGllZF91c2VyX2FkZHJlc3M6IEFkZHJlc3M7Cn0KLyogID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAxLyBOZWVkIGluZGV4IHNpbmNlIHRoZSB0aGUgZGVwb3NpdG9yIG1pZ2h0IGJlIGRlcG9zaXRpbmcgbXVsdGlwbGUgdGltZXMuCiAgICAyLyBFYWNoIGRlcG9zaXRzIG1pZ2h0IGhhdmUgZGlmZmVyZW50IHRpbWUgZnJhbWUoZHVyYXRpb24pCgogICAgVE9ETzog5Zau5YCLIFN0YWtpbmcg5ZCI57SE5pSv5oyB5aSa56iu5Luj5bmj6LOq5oq855qE5Y+v6IO95oCn77yfICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKKi8KY29udHJhY3QgU3Rha2luZ0NvbnRyYWN0IHsKICAgIHRoaXNfY29udHJhY3RfamV0dG9uV2FsbGV0OiBBZGRyZXNzOwogICAgb3duZXI6IEFkZHJlc3M7ICAgICAgICAgICAgICAgICAgICAgICAgCgogICAgaW5kZXg6IEludCBhcyB1aW50MzIgPSAwOyAgICAgICAgICAgICAgIAogICAgc3Rha2VfcmVjb3JkOiBtYXA8SW50LCBTdGFrZVJlY29yZD47CiAgICBzY29yZV9saXN0OiBtYXA8QWRkcmVzcywgSW50PjsKCiAgICBzdGFydF90aW1lOiBJbnQgYXMgdWludDMyOwogICAgdG90YWxfc2NvcmU6IEludCBhcyB1aW50MTI4ID0gMDsgCiAgICBwYXJhbWV0ZXI6IEludCBhcyB1aW50MTY7CgogICAgaW5pdCh0aGlzX2NvbnRyYWN0X2pldHRvbldhbGxldDogQWRkcmVzcywgX293bmVyOiBBZGRyZXNzLCBwYXJhbWV0ZXI6IEludCkgewogICAgICAgIHNlbGYudGhpc19jb250cmFjdF9qZXR0b25XYWxsZXQgPSB0aGlzX2NvbnRyYWN0X2pldHRvbldhbGxldDsKICAgICAgICBzZWxmLm93bmVyID0gX293bmVyOwogICAgICAgIHNlbGYucGFyYW1ldGVyID0gcGFyYW1ldGVyOwogICAgICAgIHNlbGYuc3RhcnRfdGltZSA9IG5vdygpOwogICAgfQoKICAgIC8vIDHvuI/ig6Mg8J+UtCBBZG1pbjogSW5pdGlhbGx5IGFkZCB0aGUgSmV0dG9uIFRva2VuIFdhbGxldCBBZGRyZXNzLCAKICAgIHJlY2VpdmUobXNnOiBBZGRpbmdKZXR0b25BZGRyZXNzKSB7ICAvLyAweDgwMTJiMWEyCiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5vd25lciwgIm5vdCBmcm9tIG93bmVyIik7CiAgICAgICAgc2VsZi50aGlzX2NvbnRyYWN0X2pldHRvbldhbGxldCA9IG1zZy50aGlzX2NvbnRyYWN0X2pldHRvbldhbGxldDsKICAgICAgICBzZWxmLmZvcndhcmQoY3R4LnNlbmRlciwgIlN1Y2Nlc3MiLmFzQ29tbWVudCgpLCBmYWxzZSwgbnVsbCk7CiAgICB9CgogICAgLy8gMu+4j+KDoyDmraPluLjmlLbmrL7mmYLjgIHnlLHmraToqIrmga/liKTmlrcKICAgIHJlY2VpdmUoc3Rha2U6IFRva2VuTm90aWZpY2F0aW9uKSB7ICAvLyAweDczNjJkMDljCiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi50aGlzX2NvbnRyYWN0X2pldHRvbldhbGxldCwgIm5vdCBmcm9tIG9uZSBvZiBhbnkgamV0dG9uIHdhbGxldCIpOwoKICAgICAgICBsZXQgc2NvcmU6IEludCA9IHNlbGYuc2NvcmVfZnVuY3Rpb24oc3Rha2UuYW1vdW50KTsKICAgICAgICBzZWxmLnN0YWtlX3JlY29yZC5zZXQoc2VsZi5pbmRleCwgU3Rha2VSZWNvcmQge3N0YWtlX2FkZHJlc3M6IHN0YWtlLmZyb20sIGlkaWFfc3Rha2VfYW1vdW50OiBzdGFrZS5hbW91bnQsIHNjb3JlOiBzY29yZX0pOwoKICAgICAgICAvLyBVcGRhdGUgdGhlIHdlaWdodAogICAgICAgIGxldCBwcmV2aW91c19zY29yZTogSW50PyA9IHNlbGYuc2NvcmVfbGlzdC5nZXQoc3Rha2UuZnJvbSk7CiAgICAgICAgaWYgKHByZXZpb3VzX3Njb3JlID09IG51bGwpIHsKICAgICAgICAgICAgc2VsZi5zY29yZV9saXN0LnNldChzdGFrZS5mcm9tLCBzY29yZSk7CiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c19zY29yZSEhID49IDApIHsKICAgICAgICAgICAgcHJldmlvdXNfc2NvcmUgPSBwcmV2aW91c19zY29yZSEhICsgc2NvcmU7CiAgICAgICAgICAgIHNlbGYuc2NvcmVfbGlzdC5zZXQoc3Rha2UuZnJvbSwgcHJldmlvdXNfc2NvcmUpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBTdWJtaXQgdGhlIExvZyBFdmVudCAKICAgICAgICBlbWl0KFRyYW5zZmVyRXZlbnR7c2VuZGVyX2FkZHJlc3M6IHN0YWtlLmZyb20sIGpldHRvbl9hbW91bnQ6IHN0YWtlLmFtb3VudCwgc2NvcmU6IHNjb3JlfS50b0NlbGwoKSk7CiAgICAgICAgc2VsZi50b3RhbF9zY29yZSA9IHNlbGYudG90YWxfc2NvcmUgKyBzY29yZTsKICAgICAgICBzZWxmLmluZGV4ID0gc2VsZi5pbmRleCArIDE7CiAgICB9CgogICAgLy8gcmVjZWl2ZShtc2c6IFVuc3Rha2UpIHsKICAgIC8vICAgICBsZXQgcmVjb3JkOiBTdGFrZVJlY29yZD8gPSBzZWxmLnN0YWtlX3JlY29yZC5nZXQobXNnLmluZGV4X2lkKTsKICAgIC8vICAgICAvLyBpZiAocmVjb3JkICE9IG51bGwpIHsKICAgIC8vICAgICAvLyAgICAgbGV0IHRlbXA6IFN0YWtlUmVjb3JkID0gcmVjb3JkISE7CiAgICAvLyAgICAgLy8gICAgIHJlcXVpcmUodGVtcC5zY29yZSA+IDAsICJub3QgdmFsaWQiKTsKICAgIC8vICAgICAvLyB9CiAgICAvLyB9CgogICAgLy8gcmVjZWl2ZShtc2c6IENoYW5nZVBhcmF0ZXIpIHsgLy8gVE9ETwogICAgLy8gICAgIHNlbGYucGFyYW1ldGVyID0gbXNnLnBhcmFtZXRlcjsKICAgIC8vIH0KCiAgICBmdW4gc2NvcmVfZnVuY3Rpb24oaWRpYV9hbW91bnQ6IEludCk6IEludCB7CiAgICAgICAgcmV0dXJuIGlkaWFfYW1vdW50ICogcG93KDEwLCAxOCkgLyAobm93KCkgLSBzZWxmLnN0YXJ0X3RpbWUpICogKHNlbGYucGFyYW1ldGVyIC8gMTAwMCk7IC8vIDE1MDAwIC8gMTAwMAogICAgICAgIC8vIFRPRE86IOino+mHi+aZgumWk+asiumHjeWcqOaXqeacn+eahOW9semfv+WKm+mBjuWkp+eahOWVj+mhjAogICAgfQoKICAgIGdldCBmdW4gZ2V0X3JhdGlvX29mX3N0YWtlKFN0YWtlVG9rZW5BbW91bnQ6IEludCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuc2NvcmVfZnVuY3Rpb24oU3Rha2VUb2tlbkFtb3VudCkgKiBwb3coMTAsIDkpIC8gc2VsZi50b3RhbF9zY29yZTsKICAgIH0KCiAgICBnZXQgZnVuIGdldF9yYXRpb19vZl9zdGFrZV8yKFN0YWtlVG9rZW5BbW91bnQ6IEludCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuc2NvcmVfZnVuY3Rpb24oU3Rha2VUb2tlbkFtb3VudCkgKiBwb3coMTAsIDYpIC8gc2VsZi50b3RhbF9zY29yZTsKICAgIH0KICAgIAogICAgZ2V0IGZ1biBnZXRfcmF0aW9fb2Zfc3Rha2VfMyhTdGFrZVRva2VuQW1vdW50OiBJbnQpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLnNjb3JlX2Z1bmN0aW9uKFN0YWtlVG9rZW5BbW91bnQpICogMTAwIC8gc2VsZi50b3RhbF9zY29yZSAvIDEwMDsKICAgIH0KICAgIAogICAgLy8gVG8gZ2V0IHRoZSByYXRpbyBvZiBhIHVzZXIgaW4gYSBvbi1jaGFpbiB3YXlzCiAgICByZWNlaXZlKG1zZzogR2V0V2VpZ2h0ZWQpIHsgLy8gMHgxMzRjNjg3YQogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CgogICAgICAgIGxldCB1c2VyX3Njb3JlOiBJbnQgPSBzZWxmLnNjb3JlX2xpc3QuZ2V0KG1zZy5hcHBsaWVkX3VzZXJfYWRkcmVzcykhITsKICAgICAgICByZXF1aXJlKHVzZXJfc2NvcmUgPiAwLCAibm8gUmVjb3JkIik7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVycyB7CiAgICAgICAgICAgIHRvOiBjdHguc2VuZGVyLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlICsgU2VuZElnbm9yZUVycm9ycywgCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogUGFzc1Njb3JlVG9Sb3VuZENvbnRyYWN0IHsgLy8gMHhlNWZkN2YyOQogICAgICAgICAgICAgICAgY2hlY2tlZF9hZGRyZXNzOiBtc2cuYXBwbGllZF91c2VyX2FkZHJlc3MsCiAgICAgICAgICAgICAgICByZXR1cm5fc2NvcmU6ICAgIHVzZXJfc2NvcmUKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIC8vIHJlY2VpdmUobXNnOiBBZG1pbkV4ZWN1dGUpIHt9CgogICAgcmVjZWl2ZShtc2c6IFVuc3Rha2UpIHsgLy8gVE9ETwogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgbGV0IHd3OiBJbnQgPSBzZWxmLnNjb3JlX2xpc3QuZ2V0KGN0eC5zZW5kZXIpISE7CiAgICAgICAgcmVxdWlyZSh3dyA+IDAsICJub3QgaW4gdGhlIGxpc3QiKTsgLy8gVE9ETzogb25seSBjaGVja2luZyBwb2ludAogICAgICAgIAogICAgICAgIC8vIFNlbmQgVHJhbnNmZXIgdG8gc2VsZi5nZXRfbWFqb3JfamV0dG9uX2FkZHJlc3MobXlBZGRyZXNzKCkpCiAgICAgICAgLy8gVHJhbnNmZXIgdGhlIGpldHRvbiB0b2tlbiBiYWNrOiBBbW91bnQsIHdobyAKICAgICAgICBsZXQgc3Rha2VfcmVjb3JkOiBTdGFrZVJlY29yZCA9IHNlbGYuc3Rha2VfcmVjb3JkLmdldChtc2cuaW5kZXhfaWQpISE7CiAgICAgICAgcmVxdWlyZShzdGFrZV9yZWNvcmQuaWRpYV9zdGFrZV9hbW91bnQgPiAwLCAiZG9uJ3QgaGF2ZSB2YWx1ZSIpOwogICAgICAgIHNlbGYuc3Rha2VfcmVjb3JkLnNldChtc2cuaW5kZXhfaWQsIG51bGwpOwoKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi50aGlzX2NvbnRyYWN0X2pldHRvbldhbGxldCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsIC8vIDB4NzM2MmQwOWMgLSBub3RpZnkgbmV3IG93bmVyCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXIgewogICAgICAgICAgICAgICAgcXVlcnlJZDogMCwKICAgICAgICAgICAgICAgIGFtb3VudDogc3Rha2VfcmVjb3JkLmlkaWFfc3Rha2VfYW1vdW50LAogICAgICAgICAgICAgICAgZGVzdGluYXRpb246IGN0eC5zZW5kZXIsCiAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogbXlBZGRyZXNzKCksCiAgICAgICAgICAgICAgICBjdXN0b21fcGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogdG9uKCIwLjAxIiksCiAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgLy8gVE9ETzogQWRtaW4g5by35Yi2IFVuU3Rha2XmiYDmnInku6PluaPvvJ8KICAgIC8vIGFkbWluIGVuYWJsZSB0byB3aXRoZHJhdyB0aGUgdG9rZW4gdG8gdGhlIG9yaWdpbmFsIGRlcG9zaXRvcgoKICAgIHJlY2VpdmUoKXt9CgogICAgZ2V0IGZ1biBnZXRfdXNlcl9zdGFrZV9yZWNvcmQoKTogbWFwPEludCwgU3Rha2VSZWNvcmQ+IHsKICAgICAgICByZXR1cm4gc2VsZi5zdGFrZV9yZWNvcmQ7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRfdXNlcl9zdGFrZV9hbW91bnQoKTogbWFwPEFkZHJlc3MsIEludD4gewogICAgICAgIHJldHVybiBzZWxmLnNjb3JlX2xpc3Q7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRfcmV0dXJuX3N0YWtpbmdfZGF0YSgpOiBTdGFraW5nRGF0YSB7CiAgICAgICAgcmV0dXJuIFN0YWtpbmdEYXRhIHsKICAgICAgICAgICAgaW5kZXg6ICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaW5kZXgsCiAgICAgICAgICAgIHRoaXNfY29udHJhY3RfamV0dG9uV2FsbGV0OiBzZWxmLnRoaXNfY29udHJhY3RfamV0dG9uV2FsbGV0LAogICAgICAgICAgICB0b3RhbF9zY29yZTogICAgICAgICAgICAgICAgc2VsZi50b3RhbF9zY29yZSwKICAgICAgICAgICAgcGFyYW1ldGVyOiAgICAgICAgICAgICAgICAgIHNlbGYucGFyYW1ldGVyCiAgICAgICAgfTsKICAgIH0KfQoKLy8gPT09PT0gRGF0YSBTdHJ1Y3QgPT09PT0gLy8gCnN0cnVjdCBTdGFraW5nRGF0YSB7CiAgICBpbmRleDogSW50IGFzIHVpbnQ2NDsKICAgIHRoaXNfY29udHJhY3RfamV0dG9uV2FsbGV0OiBBZGRyZXNzOwogICAgdG90YWxfc2NvcmU6IEludCBhcyBjb2luczsKICAgIHBhcmFtZXRlcjogSW50IGFzIHVpbnQxNjsKfQoKc3RydWN0IFN0YWtlUmVjb3JkIHsKICAgIHN0YWtlX2FkZHJlc3M6IEFkZHJlc3M7CiAgICBpZGlhX3N0YWtlX2Ftb3VudDogSW50IGFzIGNvaW5zOwogICAgc2NvcmU6IEludCBhcyB1aW50MTI4OyAgICAgICAgICAgICAgLy8gVE9ETzog5Y+v5Lul5b6M6Z2i5Yiq5o6JCn0KCi8qIAo9PT09PT09PT09PT09PT09PT09PT09PT09IElETyBjb250cmFjdCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC0gU3Rha2luZyBDb250cmFjdCArIElETyBNYWluIGNvbnRyY3Q6CiAgICAtIElETyBDb250cmFjdCA9PiBSb3VuZCAxICsgUm91bmQgMiArIC4uLi4uLgogICAgCiAgICAtIEVhY2ggUm91bmQgY29udHJhY3QgZ2VuZXJhdGUgYnk6IAogICAgICAgIGEpICAKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiovCgovLyA9PT09PT09PT09IEFkbWluID09PT09PT09PT0KbWVzc2FnZSBVcGxvYWRKZXR0b25XYWxsZXREYXRhIHsKICAgIHByb2plY3RfaWQ6IEludCBhcyB1aW50MTY7CiAgICBmdW5kaW5nX3BlcmlvZDogSW50IGFzIHVpbnQzMjsKICAgIHJvdW5kX2NvbnRyYWN0X2pldHRvbl93YWxsZXQ6IEFkZHJlc3M7CiAgICBjb252ZXJ0X3JhdGU6IEludCBhcyB1aW50MTY7CiAgICB1cGNvbWluZ190b2tlbl9qZXR0b25fd2FsbGV0OiBBZGRyZXNzOwogICAgc2Vjb25kX293bmVyOiBBZGRyZXNzOwp9CgptZXNzYWdlIEFkbWluRXhlY3V0ZSB7CiAgICB0YXJnZXRfcHJvamVjdF9pZDogSW50IGFzIHVpbnQxNjsKfQoKY29udHJhY3QgTGF1bmNocGFkIHsKICAgIHByb2plY3RfaWQ6IEludCBhcyB1aW50MTYgPSAwOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICBzdGFraW5nX2NvbnRyYWN0OiBBZGRyZXNzOwoKICAgIGluaXQob3duZXI6IEFkZHJlc3MsIHN0YWtpbmdfY29udHJhY3Q6IEFkZHJlc3MpewogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsKICAgICAgICBzZWxmLnN0YWtpbmdfY29udHJhY3QgPSBzdGFraW5nX2NvbnRyYWN0OwogICAgfQoKICAgIHJlY2VpdmUoIkFkbWluOkNyZWF0ZU5ld1JvdW5kIikgeyAvLyBTaW5jZSBub3QgZXZlcnl0aW1lIHdlIG5lZWQgYWRkIFNlY29uZCBPd25lciBmb3IgdGhlIHByb2plY3QoZWcuIHJvdW5kKQogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3duZXIsICJub3Qgb3duZXIiKTsKCiAgICAgICAgbGV0IGluaXQ6IFN0YXRlSW5pdCA9IGluaXRPZiBSb3VuZChzZWxmLnByb2plY3RfaWQsIG15QWRkcmVzcygpLCBzZWxmLnN0YWtpbmdfY29udHJhY3QpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnMgewogICAgICAgICAgICB0bzogY29udHJhY3RBZGRyZXNzKGluaXQpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlICsgU2VuZElnbm9yZUVycm9ycywKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBjb2RlOiBpbml0LmNvZGUsCiAgICAgICAgICAgIGRhdGE6IGluaXQuZGF0YQogICAgICAgIH0pOyAKICAgICAgICBzZWxmLnByb2plY3RfaWQgPSBzZWxmLnByb2plY3RfaWQgKyAxOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBVcGxvYWRKZXR0b25XYWxsZXREYXRhKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5vd25lciwgIm5vdCBvd25lciIpOwogICAgICAgIAogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLmdldF9yb3VuZF9hZGRyZXNzKG1zZy5wcm9qZWN0X2lkKSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogQWRtaW5VcGxvYWRKZXR0b25XYWxsZXREYXRhIHsKICAgICAgICAgICAgICAgIGZ1bmRpbmdfcGVyaW9kOiAgICAgICAgICAgICAgIG1zZy5mdW5kaW5nX3BlcmlvZCwKICAgICAgICAgICAgICAgIHJvdW5kX2NvbnRyYWN0X2pldHRvbl93YWxsZXQ6IG1zZy5yb3VuZF9jb250cmFjdF9qZXR0b25fd2FsbGV0LAogICAgICAgICAgICAgICAgY29udmVydF9yYXRlOiAgICAgICAgICAgICAgICAgbXNnLmNvbnZlcnRfcmF0ZSwKICAgICAgICAgICAgICAgIHVwY29taW5nX3Rva2VuX2pldHRvbl93YWxsZXQ6IG1zZy51cGNvbWluZ190b2tlbl9qZXR0b25fd2FsbGV0LCAgIC8vIFJvdW5kIENvbnRyYWN0IOWcqOmAmeWFqeeoruS7o+W5o+WQhOiHqueahCBKZXR0b24gV2FsbGV0IAogICAgICAgICAgICAgICAgc2Vjb25kX293bmVyOiAgICAgICAgICAgICAgICAgbXNnLnNlY29uZF9vd25lcgogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEFkbWluRXhlY3V0ZSkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3duZXIsICJub3Qgb3duZXIiKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzIHsKICAgICAgICAgICAgICAgIHRvOiBzZWxmLmdldF9yb3VuZF9hZGRyZXNzKG1zZy50YXJnZXRfcHJvamVjdF9pZCksCiAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsIAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgYm9keTogIkFkbWluRXhlY3V0ZSIuYXNDb21tZW50KCkKICAgICAgICB9KTsgIAogICAgfQoKICAgIHJlY2VpdmUoIlVwZGF0ZSBTdWNjZXNzIikgewogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnMgewogICAgICAgICAgICAgICAgdG86IHNlbGYub3duZXIsCiAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsIAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgYm9keTogIlVwZGF0ZSBMUEQgUm91bmQgQ29udHJhY3QgU3VjY2VzcyIuYXNDb21tZW50KCkKICAgICAgICB9KTsgIAogICAgfQoKICAgIC8vIFRPRE86IENoYW5nZSBPd25lciAobWFrZSBzdXJlIHRoZSBzdWIgYWRkcmVzcyBhbHNvIGFmZmVjdGVkKQogICAgLy8gVE9ETzogQ2hhbmdlIFN0YWtpbmcgQ29udHJhY3Q/ICjpgoTlpb3jgIHlm6Dngrrlj6/ku6Xph43pg6jnvbIpCgogICAgZ2V0IGZ1biBnZXRfcm91bmRfYWRkcmVzcyhwcm9qZWN0X2lkOiBJbnQpOiBBZGRyZXNzIHsKICAgICAgICBsZXQgaW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIFJvdW5kKHByb2plY3RfaWQsIG15QWRkcmVzcygpLCBzZWxmLnN0YWtpbmdfY29udHJhY3QpOwogICAgICAgIHJldHVybiBjb250cmFjdEFkZHJlc3MoaW5pdCk7CiAgICB9Cn0KCgovKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KRHVlIHRvIHRoZSBhcmNoaXRlY3R1cmFsIGRlc2lnbiBvZiBUT04sICJlYWNoIHRva2VuIG93bmVkIGJ5IGFuIGFkZHJlc3MgaGFzIGl0cyBvd24gaW5kZXBlbmRlbnQgcmVjZWl2aW5nIHdhbGxldCBhZGRyZXNzLiIKVGhpcyBtZWFucyB5b3UgY2Fubm90IGlucHV0ICJ0b2tlbiBjb250cmFjdCBtZXNzYWdlcyB0aGF0IGNhbiBiZSByZWNlaXZlZCBpbnRvIHRoZSB0b2tlbiBjb250cmFjdCB1c2VkIGZvciBmdW5kcmFpc2luZy4KSXQgZG9lc24ndCBtYWtlIHNlbnNlLiIKClRoZSBhY3R1YWwgcHJvY2VzcyBpcyB0aGF0IHlvdSBtdXN0IGlucHV0IHRoaXMgInJlY2VpdmluZyBjb250cmFjdCIgaW50byB0aGUgdGFyZ2V0IEpldHRvbiB0b2tlbiBjb250cmFjdAphbmQgb2J0YWluIHRoZSBXYWxsZXQgQWRkcmVzcyBleGNsdXNpdmUgdG8gdGhpcyBKZXR0b24gdG9rZW4uIE9ubHkgdGhlbiBjYW4geW91IGlucHV0IHRoaXMgbWVzc2FnZSBpbnRvIAp0aGUgInRhcmdldCBidXNpbmVzcyBsb2dpYyBjb250cmFjdCIuCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwptZXNzYWdlIFBhc3NTY29yZVRvUm91bmRDb250cmFjdCB7CiAgICBjaGVja2VkX2FkZHJlc3M6IEFkZHJlc3M7CiAgICByZXR1cm5fc2NvcmU6IEludCBhcyB1aW50NjQ7Cn0KCm1lc3NhZ2UgQWRtaW5VcGxvYWRKZXR0b25XYWxsZXREYXRhIHsKICAgIGZ1bmRpbmdfcGVyaW9kOiAgICAgICAgICAgICAgICAgSW50IGFzIHVpbnQzMjsKICAgIHJvdW5kX2NvbnRyYWN0X2pldHRvbl93YWxsZXQ6ICAgQWRkcmVzczsgIAogICAgY29udmVydF9yYXRlOiAgICAgICAgICAgICAgICAgICBJbnQgYXMgdWludDE2OwogICAgdXBjb21pbmdfdG9rZW5famV0dG9uX3dhbGxldDogICBBZGRyZXNzOyAgCiAgICBzZWNvbmRfb3duZXI6ICAgICAgICAgICAgICAgICAgIEFkZHJlc3M7Cn0KCm1lc3NhZ2UgVXNlckNsYWltIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7Cn0KCmNvbnRyYWN0IFJvdW5kIHsKICAgIHByb2plY3RfaWQ6IEludCBhcyB1aW50MTY7CiAgICBvd25lcjogQWRkcmVzczsKICAgIHN0YWtpbmdfY29udHJhY3Q6IEFkZHJlc3M7CiAgICBlbmRfdGltZTogSW50IGFzIHVpbnQzMiA9IDA7CgogICAgcm91bmRfY29udHJhY3RfamV0dG9uX3dhbGxldDogQWRkcmVzcz87ICAgICAgICAgICAgLy8g5q2k5ZCI57SE5bCN5pa877yI5pSv5oyB5omj5qy+55qE6KqN6LO85Luj5bmj77yJ55qEIEpldHRvbiBXYWxsZXQsIGV4OiBJRElBLCBCVVNELCBVU0RULi4uLgogICAgY29udmVydF9yYXRlOiBJbnQgYXMgdWludDE2ID0gMDsgICAgICAgICAgICAgICAgICAgICAvLyBlZy4gMjUwLCA1MDAsIDEwMDAuLi4uIGNvbnZlcnRfcmF0ZS4gcmFuZ2U6IDAgLSA2NSw1MzUKICAgIHVwY29taW5nX3Rva2VuX2pldHRvbl93YWxsZXQ6IEFkZHJlc3M/OyAgICAgICAgICAgIC8vIOatpOWQiOe0hOWwjeaWvCAo5bCH6KaB55m85ZSu55qE5Luj5bmjKSDnmoQgSmV0dG9uIFdhbGxldCDlnLDlnYAsIGV4OiBuZXcgdG9rZW4gCiAgICAKICAgIGFtb3VudF9vZl91cGNvbWluZ190b2tlbjogSW50IGFzIGNvaW5zID0gMDsgICAgICAgIC8vIOWwh+imgeeZvOWUrueahOS7o+W5o+aVuOmHjwoKICAgIGlzX29wZW46IEJvb2w/OwoKICAgIHVzZXJfcmVnaXN0ZXJfbGlzdDogbWFwPEFkZHJlc3MsIEJvb2w+OyAgICAKICAgIHBhcml0aWNpcGF0b3JzOiBJbnQgYXMgdWludDE2ID0gMDsKICAgIAogICAgdXNlcl9zY29yZV9saXN0OiBtYXA8QWRkcmVzcywgSW50PjsgICAgICAgICAgICAgIC8vIFVzZXIncyB3ZWlnaHQgaW4gdGhpcyByb3VuZCwgbm90IGV2ZXJ5b25lIHdpbGwgaGF2ZSBzdGFraW5nIGluZm8gdGhvCiAgICB3ZWlnaHRzX3RvdGFsOiBJbnQgYXMgdWludDY0ID0gMDsgICAgICAgICAgICAgICAgICAvLyBUT0RPOgoKICAgIHNlY29uZF9vd25lcjogQWRkcmVzczsKICAgIGlzX2luamVjdF9mdW5kczogQm9vbDsgCgogICAgaW5pdChwcm9qZWN0X2lkOiBJbnQsIGlkb19jb250cmFjdDogQWRkcmVzcywgc3Rha2luZ19jb250cmFjdDogQWRkcmVzcyl7CiAgICAgICAgc2VsZi5wcm9qZWN0X2lkID0gcHJvamVjdF9pZDsKICAgICAgICBzZWxmLm93bmVyID0gaWRvX2NvbnRyYWN0OwogICAgICAgIHNlbGYuc3Rha2luZ19jb250cmFjdCA9IHN0YWtpbmdfY29udHJhY3Q7CgogICAgICAgIHNlbGYuaXNfaW5qZWN0X2Z1bmRzID0gZmFsc2U7CgogICAgICAgIHNlbGYuc2Vjb25kX293bmVyID0gaWRvX2NvbnRyYWN0OwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBBZG1pblVwbG9hZEpldHRvbldhbGxldERhdGEpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLm93bmVyLCAibm90IHRoZSBhZG1pbiIpOwogICAgICAgIAogICAgICAgIHJlcXVpcmUobXNnLmZ1bmRpbmdfcGVyaW9kIDw9IDg2NDAxLCAiVGltZSBGcmFtZSB0b28gbG9uZyIpOyAgICAvLyBUT0RPOiDpmZDliLbplovmlL7oqLvlhornmoTlpKnmlbjmnIDplbfmmYLplpMKICAgICAgICBzZWxmLmVuZF90aW1lID0gbm93KCkgKyBtc2cuZnVuZGluZ19wZXJpb2Q7ICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogY2xvc2UgaW4gbmV4dCAyNGhyCgogICAgICAgIHJlcXVpcmUobXNnLmNvbnZlcnRfcmF0ZSA+IDEsICJyYXRpbyB0b28gaGlnaCIpOwogICAgICAgIHJlcXVpcmUobXNnLmNvbnZlcnRfcmF0ZSA8IDY1NTM1LCAicmF0aW8gdG9vIGhpZ2giKTsKICAgICAgICBzZWxmLmNvbnZlcnRfcmF0ZSA9IG1zZy5jb252ZXJ0X3JhdGU7IAogICAgICAgIC8vICAgMjUwOyAxIEFSS0VOID0gIDAuMDA0IEJVU0QsIDQwMDA7IDEgTmV3VG9rZW4gPSAwLjAwMDI1IElESUEKICAgICAgICAvLyAgc2VsZi5hbW91bnRfb2ZfZnVuZGluZ190b2tlbiAqIHNlbGYuY29udmVydF9yYXRlID0gUVRZIG9mIG5ldyBUb2tlbiAKCiAgICAgICAgc2VsZi5yb3VuZF9jb250cmFjdF9qZXR0b25fd2FsbGV0ID0gbXNnLnJvdW5kX2NvbnRyYWN0X2pldHRvbl93YWxsZXQ7IC8vIFVzaW5nIHdoaWNoIHRva2VuKGVnLiBJRElBLCBVU0RDLi4pIHRvIOaJo+asvgogICAgICAgIHNlbGYudXBjb21pbmdfdG9rZW5famV0dG9uX3dhbGxldCA9IG1zZy51cGNvbWluZ190b2tlbl9qZXR0b25fd2FsbGV0OwogICAgICAgIHNlbGYuc2Vjb25kX293bmVyID0gbXNnLnNlY29uZF9vd25lcjsKCiAgICAgICAgLy8gVE9ETzogcmVxdWlyZShzZWxmLmlzX29wZW4gPT0gbnVsbCwgIm5vdCBjb3JyZWN0IHN0YXR1cyIpOwogICAgICAgIHNlbGYuaXNfb3BlbiA9IHRydWU7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVycyB7IHRvOiBjdHguc2VuZGVyLCB2YWx1ZTogMCwgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlICsgU2VuZElnbm9yZUVycm9ycywgYm91bmNlOiB0cnVlLCBib2R5OiAiVXBkYXRlIFN1Y2Nlc3MiLmFzQ29tbWVudCgpfSk7ICAKICAgIH0KCiAgICByZWNlaXZlKCJSZWdpc3RlciIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IHRvbigiMC4xIiksICJub3QgZW5vdWdoIFRPTiIpOyAvLyBUT0RPCgogICAgICAgIHJlcXVpcmUoc2VsZi5pc19vcGVuLCAiaGF2ZW4ndCB1cGxvYWQgdGhlIGpldHRvbiBXYWxsZXQgaW5mbyIpOwoKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzIHsKICAgICAgICAgICAgdG86IHNlbGYuc3Rha2luZ19jb250cmFjdCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsIAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IEdldFdlaWdodGVkIHsgYXBwbGllZF91c2VyX2FkZHJlc3M6IGN0eC5zZW5kZXIgfS50b0NlbGwoKSAvLyAweDEzNGM2ODdhCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFBhc3NTY29yZVRvUm91bmRDb250cmFjdCkgeyAvLyAweGU1ZmQ3ZjI5CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICBsZXQgcGFydGljaXBhdGU6IEJvb2w/ID0gc2VsZi51c2VyX3JlZ2lzdGVyX2xpc3QuZ2V0KG1zZy5jaGVja2VkX2FkZHJlc3MpOwogICAgICAgIHJlcXVpcmUocGFydGljaXBhdGUgPT0gbnVsbCwgIkFscmVhZHkgaW4gdGhlIGxpc3QiKTsgLy8g5ouS57WV6YeN6KSH55m76KiY77yM5pyD5bCO6Ie05YKvIHNjb3JlIOmHjeikh+ioiOeul+OAggoKICAgICAgICAvLyBUT0RPOiBCZXR0ZXIgaW1wbGVtZW50YXRpb24/CiAgICAgICAgcmVxdWlyZShzZWxmLmlzX29wZW4sICJub3QgaW4gc3RhdHVzIik7IAoKICAgICAgICBzZWxmLnVzZXJfcmVnaXN0ZXJfbGlzdC5zZXQobXNnLmNoZWNrZWRfYWRkcmVzcywgdHJ1ZSk7CiAgICAgICAgc2VsZi5wYXJpdGljaXBhdG9ycyA9IHNlbGYucGFyaXRpY2lwYXRvcnMgKyAxOwogICAgICAgIAogICAgICAgIHNlbGYudXNlcl9zY29yZV9saXN0LnNldChtc2cuY2hlY2tlZF9hZGRyZXNzLCBtc2cucmV0dXJuX3Njb3JlKTsKICAgICAgICBzZWxmLndlaWdodHNfdG90YWwgPSBzZWxmLndlaWdodHNfdG90YWwgKyBtc2cucmV0dXJuX3Njb3JlOwoKICAgICAgICBlbWl0KFdlaWdodExvZ3sgd2VpZ2h0X3RvdGFsOiBzZWxmLndlaWdodHNfdG90YWwsIHBhcml0aWNpcGF0b3I6IG1zZy5jaGVja2VkX2FkZHJlc3MsIHJldHVybl9zY29yZTogbXNnLnJldHVybl9zY29yZSB9LnRvQ2VsbCgpKTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVG9rZW5Ob3RpZmljYXRpb24pIHsgIC8vIDB4NzM2MmQwOWMgLT4gVXNlclN1Ym1pdAogICAgICAgIC8vIFRPRE86IEFkbWluOiBBZGQgRnVuZHMKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIGlmIChjdHguc2VuZGVyID09IHNlbGYucm91bmRfY29udHJhY3RfamV0dG9uX3dhbGxldCkgewogICAgICAgICAgICByZXF1aXJlKG5vdygpIDw9IHNlbGYuZW5kX3RpbWUsICJOb3QgaW4gdGhlIHJpZ2h0IHRpbWUgZnJhbWUiKTsKICAgICAgICAgICAgcmVxdWlyZShzZWxmLmlzX29wZW4sICJub3Qgb3BlbiB5ZXQiKTsKCgogICAgICAgIH0gZWxzZSBpZiAoY3R4LnNlbmRlciA9PSBzZWxmLnVwY29taW5nX3Rva2VuX2pldHRvbl93YWxsZXQpIHsKICAgICAgICAgICAgLy8g5b6e6YCZ5YCL5ZCI57SE5omA5Luj6KGo55qE44CM5omA5bGs5paw5Luj5bmjIEpldHRvbiBXYWxsZXQg55m86YGO5L6G44CN5omN5piv5q2j56K655qECiAgICAgICAgICAgIC8vIOS4puS4lO+8jOimgeeUqOiHquiogue+qSBUcmFuc2ZlciDkvoborpMgIlRva2VuTm90aWZpY2F0aW9uIiDnmoToqIrmga/lgrPpgLLkvobmmYLmnInotrPlpKDnmoQgR2FzRmVlCgogICAgICAgICAgICByZXF1aXJlKG1zZy5mcm9tID09IHNlbGYub3duZXIgfHwgbXNnLmZyb20gPT0gc2VsZi5zZWNvbmRfb3duZXIsICJOb3QgZnJvbSBjb3JyZWN0IGFkZHJlc3MiKTsKICAgICAgICAgICAgcmVxdWlyZSghc2VsZi5pc19pbmplY3RfZnVuZHMsICJub3QgeWV0Iik7CiAgICAgICAgICAgIHNlbGYuaXNfaW5qZWN0X2Z1bmRzID0gdHJ1ZTsKCiAgICAgICAgICAgIC8vIHJlcXVpcmUoIXNlbGYuaXNfb3BlbiwgInN0aWxsIGluIG9wZW4gc3RhdHVzIik7CgogICAgICAgICAgICBzZWxmLmFtb3VudF9vZl91cGNvbWluZ190b2tlbiA9IG1zZy5hbW91bnQ7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogbXNnLmZyb20sCiAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdWYWx1ZSArIFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiAiSW5qZWN0IEZ1bmRzIFN1Y2Nlc3MiLmFzQ29tbWVudCgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCiAgICAvLyDwn5S0IEFkbWluOiAKICAgIHJlY2VpdmUoIkFkbWluRXhlY3V0ZSIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLm93bmVyLCAibm90IHRoZSBhZG1pbiIpOwoKICAgICAgICBzZWxmLmlzX29wZW4gPSBmYWxzZTsKCiAgICAgICAgaWYgKHNlbGYuc2Vjb25kX293bmVyICE9IG51bGwgKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogc2VsZi5vd25lciwKICAgICAgICAgICAgICAgIHZhbHVlOiB0b24oIjAuMDEiKSwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiAiQ2xvc2VSb3VuZCIuYXNDb21tZW50KCkKICAgICAgICAgICAgfSk7IAogICAgICAgIH0KCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYub3duZXIsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUgKyBTZW5kSWdub3JlRXJyb3JzLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6ICJDbG9zZVJvdW5kIi5hc0NvbW1lbnQoKQogICAgICAgIH0pOyAgICAKICAgIH0KCiAgICAvLyByYXRpbyA9IHdlaWdodCAvIHRvdGFsIHdlaWdodCAKICAgIC8vIHJhdGlvICog57i95o+Q5L6b55qE5Luj5bmj5pW46YePID0g6KqN6LO85Yiw55qE5pW46YePCiAgICAvLyDoqo3os7zliLDnmoTmlbjph48gKiDoqK3lrprnmoTllq7lg7kgPSDpnIDopoHmiaPpmaTnmoTph5HpoY0KICAgIC8vIOizquaKvOaVuOmHjyAtIOmcgOaJo+mZpOeahOmHkemhjSA9IOWJqemkmOmHkemhjSAoVXNlckNsYWltKQogICAgcmVjZWl2ZShtc2c6IFVzZXJDbGFpbSkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShzZWxmLmlzX29wZW4gPT0gZmFsc2UsICJpbiBjbG9zZSBzdGF0dXMiKTsKICAgICAgICByZXF1aXJlKHNlbGYudXNlcl9zY29yZV9saXN0LmdldChjdHguc2VuZGVyKSAhPSBudWxsLCAibm90IHRoZSB1c2VyIGluIHRoZSBsaXN0Iik7CgogICAgICAgIC8vIOioiOeul+S7vemhjSwg5Lim5b6X5Yiw5YiG6YWN5Yiw55qE5paw5Luj5bmj5pW46YePCiAgICAgICAgbGV0IG5ld190b2tlbl9xdHk6IEludCA9IHNlbGYuYW1vdW50X29mX3VwY29taW5nX3Rva2VuICogc2VsZi5nZXRfdXNlcl93ZWlnaHRzX2luX3RoaXNfcm91bmQoY3R4LnNlbmRlcikgLyAxMDAwOyAKICAgICAgICBzZWxmLnVzZXJfc2NvcmVfbGlzdC5zZXQoY3R4LnNlbmRlciwgbnVsbCk7CgogICAgICAgIC8vIOeZvOmAgeaWsOeahOS7o+W5owogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLnVwY29taW5nX3Rva2VuX2pldHRvbl93YWxsZXQhISwgCiAgICAgICAgICAgIHZhbHVlOiB0b24oIjAuMSIpLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyIHsgLy8gMHhmOGE3ZWE1IAogICAgICAgICAgICAgICAgcXVlcnlJZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IG5ld190b2tlbl9xdHksCiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogY3R4LnNlbmRlciwKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBteUFkZHJlc3MoKSwKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLCAKICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogdG9uKCIwLjAxIiksCiAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgLy8gdGhlIGFtb3VudCBvZiB0b2tlbnMgdG8gYmUgZGVkdWN0ZWQgW+aJo+asvl0KICAgICAgICAvLyBzZWxmLnVzZXJfcmVmdW5kX2xpc3Quc2V0KGN0eC5zZW5kZXIsIG9sZF90b2tlbl9xdHlfZGVkdWN0ZWQpOwoKICAgICAgICAvLyBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgIC8vICAgICB0bzogc2VsZi5yb3VuZF9jb250cmFjdF9qZXR0b25fd2FsbGV0ISEsIAogICAgICAgIC8vICAgICB2YWx1ZTogdG9uKCIwLjEiKSwKICAgICAgICAvLyAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAvLyAgICAgbW9kZTogMCwKICAgICAgICAvLyAgICAgYm9keTogVG9rZW5UcmFuc2ZlcnsgCiAgICAgICAgLy8gICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAvLyAgICAgICAgIGFtb3VudDogb2xkX3Rva2VuX3F0eV9kZWR1Y3RlZCwKICAgICAgICAvLyAgICAgICAgIGRlc3RpbmF0aW9uOiBteUFkZHJlc3MoKSwKICAgICAgICAvLyAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBjdHguc2VuZGVyLAogICAgICAgIC8vICAgICAgICAgY3VzdG9tX3BheWxvYWQ6IG51bGwsIAogICAgICAgIC8vICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiB0b24oIjAuMDEiKSwKICAgICAgICAvLyAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogZW1wdHlTbGljZSgpIC8vIOaPkOS6pOeUs+izvOeahOS7o+W5o+aJo+WujOasvuOAgei0luWbngogICAgICAgIC8vICAgICB9LnRvQ2VsbCgpCiAgICAgICAgLy8gfSk7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRfdXNlcl9saXN0X3RoaXNfcm91bmQoKTogIG1hcDxBZGRyZXNzLCBCb29sPnsKICAgICAgICByZXR1cm4gc2VsZi51c2VyX3JlZ2lzdGVyX2xpc3Q7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRfdXNlcl93ZWlnaHRzX2luX3RoaXNfcm91bmQodXNlcjogQWRkcmVzcyk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYudXNlcl9zY29yZV9saXN0LmdldCh1c2VyKSEhICogcG93KDEwLCA5KSAvIHNlbGYud2VpZ2h0c190b3RhbDsKICAgIH0KCiAgICBnZXQgZnVuIGdldF91c2VyX3Njb3JlX2xpc3QoKTogbWFwPEFkZHJlc3MsIEludD4gewogICAgICAgIHJldHVybiBzZWxmLnVzZXJfc2NvcmVfbGlzdDsKICAgIH0KCiAgICBnZXQgZnVuIHJvdW5kX2RhdGEoKTogUm91bmREYXRhIHsKICAgICAgICByZXR1cm4gUm91bmREYXRhIHsgCiAgICAgICAgICAgIHByb2plY3RfaWQ6IHNlbGYucHJvamVjdF9pZCwKICAgICAgICAgICAgb3duZXI6IHNlbGYub3duZXIsCiAgICAgICAgICAgIHNlY29uZF9vd25lcjogc2VsZi5zZWNvbmRfb3duZXIsCiAgICAgICAgICAgIGVuZF90aW1lOiBzZWxmLmVuZF90aW1lLAoKICAgICAgICAgICAgcm91bmRfY29udHJhY3RfamV0dG9uX3dhbGxldDogc2VsZi5yb3VuZF9jb250cmFjdF9qZXR0b25fd2FsbGV0LAogICAgICAgICAgICBjb252ZXJ0X3JhdGU6IHNlbGYuY29udmVydF9yYXRlLAogICAgICAgICAgICB1cGNvbWluZ190b2tlbl9qZXR0b25fd2FsbGV0OiBzZWxmLnVwY29taW5nX3Rva2VuX2pldHRvbl93YWxsZXQsCiAgICAgICAgICAgIGFtb3VudF9vZl91cGNvbWluZ190b2tlbjogc2VsZi5hbW91bnRfb2ZfdXBjb21pbmdfdG9rZW4sCgogICAgICAgICAgICBpc19pbmplY3RfZnVuZHM6IHNlbGYuaXNfaW5qZWN0X2Z1bmRzLAogICAgICAgICAgICBpc19vcGVuOiBzZWxmLmlzX29wZW4sCiAgICAgICAgICAgIHBhcml0aWNpcGF0b3JzOiBzZWxmLnBhcml0aWNpcGF0b3JzLAogICAgICAgICAgICB3ZWlnaHRzX3RvdGFsOiBzZWxmLndlaWdodHNfdG90YWwKICAgICAgICB9OwogICAgfQp9CgpzdHJ1Y3QgUm91bmREYXRhIHsKICAgIHByb2plY3RfaWQ6IEludCBhcyB1aW50MTY7CiAgICBvd25lcjogQWRkcmVzczsKICAgIHNlY29uZF9vd25lcjogQWRkcmVzczsKICAgIGVuZF90aW1lOiBJbnQgYXMgdWludDMyOwoKICAgIHJvdW5kX2NvbnRyYWN0X2pldHRvbl93YWxsZXQ6IEFkZHJlc3M/OwogICAgY29udmVydF9yYXRlOiBJbnQgYXMgdWludDE2OwogICAgdXBjb21pbmdfdG9rZW5famV0dG9uX3dhbGxldDogQWRkcmVzcz87CiAgICBhbW91bnRfb2ZfdXBjb21pbmdfdG9rZW46IEludCBhcyBjb2luczsKCiAgICBpc19pbmplY3RfZnVuZHM6IEJvb2w7CiAgICBpc19vcGVuOiBCb29sPzsKCiAgICBwYXJpdGljaXBhdG9yczogSW50IGFzIHVpbnQxNjsKICAgIHdlaWdodHNfdG90YWw6IEludCBhcyB1aW50NjQ7Cn0KCnN0cnVjdCBTdWJtaXQgewogICAgZGVwb3NpdGVfamV0dG9uX2Ftb3VudDogSW50IGFzIGNvaW5zOyAgIC8vIEFwcGxpZWQgCiAgICBzdWJtaXRfd2VpZ2h0OiBJbnQgYXMgdWludDMyOyAgICAgICAgICAgLy8gVE9ETzogV2VpZ2h0ID0gU3Rha2luZyBRVFkgLyBUb3RhbCAqIDEwMDAgPT4gY29pbnModWludDIxKT8KfQoKbWVzc2FnZSBXZWlnaHRMb2cgewogICAgd2VpZ2h0X3RvdGFsOiBJbnQgYXMgdWludDY0OwogICAgcGFyaXRpY2lwYXRvcjogQWRkcmVzczsKICAgIHJldHVybl9zY29yZTogSW50IGFzIHVpbnQ2NDsKfQ=="},"compiler":{"name":"tact","version":"1.1.2","parameters":"{\"entrypoint\":\"./sources/contract.tact\",\"options\":{}}"}}